db: sink.jsonl
reviewer: "mailto:user@example.com"

labels:
  annotation:
    type: webannotation
    question: Annotation
    entities:
      - COMPOUND
      - DOSE
      - EXPOSURE_ROUTE
      - IN_VITRO_VIVO
      - ORGANISM
      - PARENT_VS_OFFSPRING
      - PHENOTYPE
    relationships:
      inhibits:
        - from: COMPOUND
          to: [COMPOUND, ORGANISM]
      promotes:
        - from: COMPOUND
          to: [PHENOTYPE]

flows:
  import:
    steps:
      - uses: github:insilica/srvc-pubmed-search
        query: susceptibility factor

  recogito:
    steps:
      - run-embedded: generator sink.jsonl

      - uses: github:sysrev/srvc-hello#spacy
        labels: [annotation]
        model: "https://s3.amazonaws.com/ins.pins/spacy.zip"

      - run-embedded: "html src/resources/public/recogito.html"
        labels: [annotation]

  label:
    steps:
      - run_embedded: generator-file sink.jsonl

      - run_embedded: "html src/resources/public/recogito.html"
        labels: [annotation]

  brat:
    steps:
      - run_embedded: generator-file sink.jsonl

      - run_embedded: "html srvc-brat/src/index.xhtml"
        labels: [annotation]
